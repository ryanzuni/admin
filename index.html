<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col min-h-screen">

  <div class="flex flex-1">
    <!-- Sidebar -->
    <aside id="sidebar" class="w-64 bg-gray-800 text-white min-h-screen"></aside>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col">
      <!-- Header -->
      <header id="header" class="bg-white shadow p-4"></header>

      <main id="dashboard" class="p-6 flex-1"></main>

      <!-- Footer 
      <footer id="footer"></footer>-->
    </div>
  </div>

  <script>
    // Load sidebar
    fetch('sidebar.html')
        .then(response => response.text())
        .then(data => {
        document.getElementById('sidebar').innerHTML = data;

        // Setelah sidebar dimuat, aktifkan fungsi klik & search
        activateSidebarFunctions();
        })
        .catch(error => console.error('Error loading sidebar:', error));

    // Definisikan fungsi untuk aktifkan klik menu & search setelah sidebar di-load
    function activateSidebarFunctions() {
        // Highlight Menu ketika diklik
        const menuItems = document.querySelectorAll('.menu-item');
        menuItems.forEach(item => {
        item.addEventListener('click', function () {
            menuItems.forEach(i => i.classList.remove('bg-blue-500', 'text-white'));
            this.classList.add('bg-blue-500', 'text-white');
        });
        });

        // Search Filtering
        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
        searchInput.addEventListener('input', function () {
            const keyword = this.value.toLowerCase();
            menuItems.forEach(item => {
            const text = item.textContent.toLowerCase();
            if (text.includes(keyword)) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
            });
        });
        }
    }

    // Load header
    fetch('header.html')
      .then(response => response.text())
      .then(data => document.getElementById('header').innerHTML = data)
      .catch(error => console.error('Error loading header:', error));

    // Load dashboard
    fetch('dashboard/dashboard.html')
      .then(response => response.text())
      .then(data => document.getElementById('dashboard').innerHTML = data)
      .catch(error => console.error('Error loading dashboard:', error));

    // Load footer
    //fetch('footer.html')
      //.then(response => response.text())
      //.then(data => document.getElementById('footer').innerHTML = data)
      //.catch(error => console.error('Error loading footer:', error));
  </script>

</body>
</html>
